!function(e,t){"use strict";var i=function(){var i=$("#container"),n=i.find("div.content-scroller"),o=i.find("aside"),a=o.find("nav > a"),s=i.find("div.content-wrapper > article").not(".noscroll"),c=i.find("a.totop-link"),r=e.History,l={speed:800,easing:"easeInOutExpo"},v={verticalGutter:0,hideFocus:!0},d=function(){u(),k(),p(),f()},u=function(){$(e).width()>767&&s.jScrollPane(v),o.children("nav").jScrollPane(v)},f=function(i){var i=i||r.getState().url.queryStringToJSON().page,a=i===t,c=$(i?"#chapter"+i:"#introduction");if($("#link_introduction").removeClass("active"),$("#link_about").removeClass("active"),$("#link_skills").removeClass("active"),$("#link_experience").removeClass("active"),$("#link_education").removeClass("active"),$("#link_portfolio").removeClass("active"),$("#link_contact").removeClass("active"),$("#link_"+i).addClass("active"),c.length){var v=c.position().left,d=c.position().top,u=$(document).height()-$(e).height()>0,f=u?{scrollTop:a?d:d+o.outerHeight(!0)}:{scrollLeft:v},h=u?$("html, body"):n;h.stop().animate(f,l.speed,l.easing,function(){s.removeClass("content-active"),c.addClass("content-active")})}},h=function(e){r.getState().url.queryStringToJSON().page!==e&&(r.pushState(null,null,"?page="+e),$("#link_introduction").removeClass("active"),$("#link_about").removeClass("active"),$("#link_skills").removeClass("active"),$("#link_experience").removeClass("active"),$("#link_education").removeClass("active"),$("#link_portfolio").removeClass("active"),$("#link_contact").removeClass("active"),$("#link_"+e).addClass("active"))},p=function(){var t=$(e).width(),i=navigator.userAgent.toLowerCase().indexOf("ipad");if(i>-1)switch(!0){case 768>=t:n.scrollLeft(0).css("overflow","visible");break;case 1024>=t:n.css("overflow-x","hidden");break;case t>1024:n.css("overflow","hidden")}else switch(!0){case 768>=t:n.scrollLeft(0).css("overflow","visible");break;case 1024>=t:n.css("overflow-x","hidden");break;case t>1024:n.css("overflow","hidden")}},k=function(){g(),m(),C()},g=function(){$(e).on({smartresize:function(){var n=navigator.userAgent.toLowerCase().indexOf("ipad"),a=navigator.userAgent.toLowerCase().indexOf("mobile");if(n>-1||a>-1);else{p(),$("article.content").not(".noscroll").each(function(){var n=$(this),o=n.data("jsp");$(e).width()>767?(o===t?n.jScrollPane(v):o.reinitialise(),C()):(o!==t&&o.destroy(),i.off("click","article.content"))});var s=o.children("nav").data("jsp");s.reinitialise(),f()}},statechange:function(){f()}})},m=function(){a.on("click",function(){var e=$(this).attr("href"),t=-1!==e.search(/chapter/)?e.substring(8):0;return h(t),!1}),$(e).scroll(function(){$(this).scrollTop()>100?$("a.totop-link").fadeIn():$("a.totop-link").fadeOut()}),c.on("click",function(){return $("html, body").stop().animate({scrollTop:0},l.speed,l.easing),!1})},C=function(){$(e).width()>768&&i.on("click","article.content",function(){var e=$(this).attr("id"),t=-1!==e.search(/chapter/)?e.substring(7):0;h(t)})};return{init:d}}();i.init()}(window);